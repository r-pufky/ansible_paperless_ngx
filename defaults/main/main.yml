---
###############################################################################
# Feature Flags
###############################################################################

# 1. Backup SQLite, paperless.conf to paperless_ngx_cfg_backup_dir?
#
# Backup existing config, DB, and exit role. Only applies to SQLite databases
# configured in PAPERLESS_DATA_DIR. paperless_ngx_cfg_backup_dir created if
# non-existent. Services stopped for backup and restarted.
#
# Default: False.
paperless_ngx_flg_backup: false

# 2. Run maintenance tasks?
#
# Preform role maintenance tasks including removal of old role versions. Does
# not affect running services.
#
# Default: True.
paperless_ngx_flg_maintenance: true

# 3. Install application?
#
# Creates required default directories, users, install packages, download and
# build software, update services, and set minimal paperless.conf if not
# specified. Services stopped.
#
# Default user runtime data is stored /var/opt/paperless. Alternative user
# defined locations for this data must be managed outside of the role.
#
# Default: True.
paperless_ngx_flg_install: true

# 4. Set paperless.conf?
#
# File set using paperless_ngx_cfg_file. Stops service and deploys user
# configuration, updates services. Services stopped.
#
# Default: False.
paperless_ngx_flg_config: false

# 5. Apply database migrations?
#
# New paperless releases require applying database migrations. These are safe
# to apply every execution. Services stopped.
#
# Default: True.
paperless_ngx_flg_migrate: true

# 6. Verify service running?
#
# Start services after role application and verify running or fail.
#
# Default: True.
paperless_ngx_flg_start: true

###############################################################################
# Service
###############################################################################

# Paperless release.
#
# Submit an issue if future versions break role deployment.
#
# Default: 'v2.20.8'.
paperless_ngx_srv_version: 'v2.20.8'

# Github access token.
#
# Unauthenticated (anonymous) API requests are heavily restricted to the sum
# total of requests to github from a given IP. Use an access token if
# receiving 403's.
#
# Classic Tokens:
# * settings > developer settings > personal access tokens (classic)
#   * notes: {LABEL APPROPRIATELY}
#   * expiration: {CUSTOM}
#   * scopes: NONE
#
# Fine-grained Tokens:
# * settings > developer settings > personal access tokens (fine-grained)
#   * token name: {LABEL APPROPRIATELY}
#   * expiration: {CUSTOM}
#   * description: {DESCRIPTIVE TEXT}
#   * resource owner: {YOUR ACCOUNT}
#   * repository access: Public Repositories (read-only)
#
# Default: '' (unauthenticated).
#
# Reference:
# * https://docs.github.com/en/authentication
paperless_ngx_srv_token: ''

# Install local Redis server?
#
# Redis is required. Disable if managing externally. Available at:
#
#   redis://localhost:6379
#
# Default: True.
paperless_ngx_srv_redis: true

# Max lifetime of Paperless cache files (minutes).
#
# Paperless does not clean cache aggressively and PAPERLESS_CONVERT_TMPDIR is
# typically cleared only on boot. Setting this to a lower value will
# aggressively clear the cache and remove files have have not been modified for
# this period of time, preventing 'out of space' errors during mass processing.
#
# Cache lifetime should be longer than the expected processing time for
# documents.
#
# PAPERLESS_CONVERT_TMPDIR:
# It is better to use disk for mass processing and switch to /tmp (TMPFS) for
# normal use to prevent confusing error messages that do not reflect actual
# causes. HIGHLY recommended to use disk backed if memory constrained. Both are
# preferable to disabling entirely. Debian auto cleans /tmp after 10 days.
#
# Default: 30 (minutes).
#
# Reference:
# * https://docs.paperless-ngx.com/configuration/#PAPERLESS_CONVERT_TMPDIR
paperless_ngx_srv_cache_lifetime: 30

# Service listen interface (IPv4, IPv6). Default: '0.0.0.0' (all interfaces).
paperless_ngx_srv_granian_host: '0.0.0.0'

# Service listen port. Default: 8000.
paperless_ngx_srv_granian_port: 8000

# Service worker threads.
#
# More worker processes result in faster data loads at the cost of loading the
# entire application into memory separately. Affects PAPERLESS_DB_POOLSIZE.
#
# Default: 1.
#
# Reference:
# * https://docs.paperless-ngx.com/configuration/#PAPERLESS_DB_POOLSIZE
paperless_ngx_srv_granian_workers: 1

# User that Paperless-NGX will run under.
#
# 'paperless' will automatically be created using vars/main.yml if required.
# All other accounts are checked for existence.
#
# Default: 'paperless'.
paperless_ngx_srv_user: 'paperless'

# Group that Paperless-NGX will run under.
#
# 'paperless' will automatically be created using vars/main.yml if required.
# All other accounts are checked for existence.
#
# Default: 'paperless'.
paperless_ngx_srv_group: 'paperless'

###############################################################################
# Config
###############################################################################

# paperless.conf to set.
#
# Ansible controller path to source paperless.conf (treated as a jinja2
# template allowing for ansible variable interpretation). Overwrites existing
# /etc/opt/paperless.conf.
#
# A minimally configured template that works with the role will be deployed if
# no config file is specified (see templates/paperless.conf.j2):
#   PAPERLESS_CONVERT_TMPDIR=/tmp
#   PAPERLESS_CONSUMPTION_DIR=/var/opt/paperless/consume
#   PAPERLESS_DATA_DIR=/var/opt/paperless/data
#   PAPERLESS_EMPTY_TRASH_DIR=/var/opt/paperless/trash
#   PAPERLESS_MEDIA_ROOT=/var/opt/paperless/media
#   PAPERLESS_ADMIN_USER=admin
#   PAPERLESS_ADMIN_MAIL=root@localhost
#   PAPERLESS_ADMIN_PASSWORD=admin
#   # Use role built ghostscript which addresses vulnerabilities.
#   PAPERLESS_GS_BINARY=/usr/local/bin/gs
#
# Manage additional files and directories (such as DB root certificates, custom
# user data storage locations, etc.) outside of the role. Must be accessible to
# paperless_ngx__srv._user account.
#
# paperless_ngx_cfg_file: 'host_vars/pngx.example.com/paperless.conf'
#
# Default: '' (use minimally configured role template).
#
# Reference:
# * https://docs.paperless-ngx.com/configuration
paperless_ngx_cfg_file: ''

# Role backup location.
#
# All backup operations (SQLite, config) for a given role execution are stored
# locally on ansible controller with the format 'YYYY-MM-DDTHHMMSS_{FILE}'.
#
# paperless_ngx_cfg_backup_dir: 'data/pngx'
#
# Default: ''
paperless_ngx_cfg_backup_dir: ''

# List of languages used for OCR processing.
#
# Required Debian OCR packages will automatically be installed.
#
# Values:
#   {LANG}: 3-letter language code (see reference). Must use
#           lower_with_under. Multiple languages specified will use best match.
#
# Default:
#   - 'eng'
#
# Reference:
# * https://tesseract-ocr.github.io/tessdoc/Data-Files-in-different-versions
paperless_ngx_cfg_ocr_languages:
  - 'eng'

# Additional NLTK machine learning data (~25MB).
#
# NLTK improves automatic text processing and classification. NLTK data is
# stored in /usr/share/nltk_data.
#
# Special Case:
#   []: Disables additional data download.
#
# Default:
#   - 'snowball_data'
#   - 'rslp'
#   - 'stopwords'
#   - 'punkt'
#   - 'punkt_tab'
#
# Reference:
# * https://www.nltk.org/nltk_data/
paperless_ngx_cfg_nltk_data:
  - 'snowball_data'
  - 'rslp'
  - 'stopwords'
  - 'punkt'
  - 'punkt_tab'
